`begin_keywords "1800-2017"
`line 1 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 1
 
 
 

`line 5 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
 

`line 7 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
module rv_plic_gateway #(
  parameter int N_SOURCE = 32
) (
  input logic clk_i,
  input logic rst_ni,

`line 13 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  input logic [N_SOURCE-1:0] src_i,
  input logic [N_SOURCE-1:0] le_i,       

`line 16 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  input logic [N_SOURCE-1:0] claim_i,  
  input logic [N_SOURCE-1:0] complete_i,  

`line 19 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  output logic [N_SOURCE-1:0] ip_o
);

`line 22 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  logic [N_SOURCE-1:0] ia;     

`line 24 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  logic [N_SOURCE-1:0] set;    
  logic [N_SOURCE-1:0] src_q;

`line 27 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  always_ff @(posedge clk_i or negedge rst_ni) begin
    if (!rst_ni) src_q <= '0;
    else         src_q <= src_i;
  end

`line 32 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
  always_comb begin
    for (int i = 0 ; i < N_SOURCE; i++) begin
      set[i] = (le_i[i]) ? src_i[i] & ~src_q[i] : src_i[i] ;
    end
  end

`line 38 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
   
   
   
   
  always_ff @(posedge clk_i or negedge rst_ni) begin
    if (!rst_ni) begin
      ip_o <= '0;
    end else begin
      ip_o <= (ip_o | (set & ~ia & ~ip_o)) & (~(ip_o & claim_i));
    end
  end

`line 50 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
   
   
   
   
  always_ff @(posedge clk_i or negedge rst_ni) begin
    if (!rst_ni) begin
      ia <= '0;
    end else begin
      ia <= (ia | (set & ~ia)) & (~(ia & complete_i & ~ip_o));
    end
  end

`line 62 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 0
endmodule

`line 64 "../src/merl_azadi-II_azadi_rv_plic_1.0/rtl/rv_plic_gateway.sv" 2
