`begin_keywords "1800-2017"
`line 1 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 1

 
 
 

`line 6 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
module tlul_fifo_sync #(
  parameter bit          ReqPass = 1'b1,
  parameter bit          RspPass = 1'b1,
  parameter int unsigned ReqDepth = 0,
  parameter int unsigned RspDepth = 0,
  parameter int unsigned SpareReqW = 1,
  parameter int unsigned SpareRspW = 1
) (
  input  logic              clk_i,
  input  logic              rst_ni,
  input  tlul_pkg::tlul_h2d_t tl_h_i,
  output tlul_pkg::tlul_d2h_t tl_h_o,
  output tlul_pkg::tlul_h2d_t tl_d_o,
  input  tlul_pkg::tlul_d2h_t tl_d_i,
  input  [SpareReqW-1:0]    spare_req_i,
  output [SpareReqW-1:0]    spare_req_o,
  input  [SpareRspW-1:0]    spare_rsp_i,
  output [SpareRspW-1:0]    spare_rsp_o
);

`line 26 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
   
  localparam int unsigned REQFIFO_WIDTH = $bits(tlul_pkg::tlul_h2d_t) -2 + SpareReqW;

`line 29 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
  fifo_sync #(.Width(REQFIFO_WIDTH), .Pass(ReqPass), .Depth(ReqDepth)) reqfifo (
    .clk_i (clk_i),
    .rst_ni (rst_ni),
    .clr_i         (1'b0          ),
    .wvalid_i      (tl_h_i.a_valid),
    .wready_o      (tl_h_o.a_ready),
    .wdata_i       ({tl_h_i.a_opcode ,
                     tl_h_i.a_param  ,
                     tl_h_i.a_size   ,
                     tl_h_i.a_source ,
                     tl_h_i.a_address,
                     tl_h_i.a_mask   ,
                     tl_h_i.a_data   ,
                     spare_req_i}),
    .depth_o       (),
    .rvalid_o      (tl_d_o.a_valid),
    .rready_i      (tl_d_i.a_ready),
    .rdata_o       ({tl_d_o.a_opcode ,
                     tl_d_o.a_param  ,
                     tl_d_o.a_size   ,
                     tl_d_o.a_source ,
                     tl_d_o.a_address,
                     tl_d_o.a_mask   ,
                     tl_d_o.a_data   ,
                     spare_req_o})   ,
    .full_o         ());

`line 56 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
   

`line 58 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
  localparam int unsigned RSPFIFO_WIDTH = $bits(tlul_pkg::tlul_d2h_t) -2 + SpareRspW;

`line 60 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
  fifo_sync #(.Width(RSPFIFO_WIDTH), .Pass(RspPass), .Depth(RspDepth)) rspfifo (
    .clk_i (clk_i),
    .rst_ni (rst_ni),
    .clr_i         (1'b0          ),
    .wvalid_i      (tl_d_i.d_valid),
    .wready_o      (tl_d_o.d_ready),
    .wdata_i       ({tl_d_i.d_opcode,
                     tl_d_i.d_param ,
                     tl_d_i.d_size  ,
                     tl_d_i.d_source,
                     tl_d_i.d_sink  ,
                     (tl_d_i.d_opcode == tlul_pkg::AccessAckData) ? tl_d_i.d_data :
                                                                    {tlul_pkg::TL_DW{1'b0}} ,
                     tl_d_i.d_error ,
                     spare_rsp_i}),
    .depth_o       (),
    .rvalid_o      (tl_h_o.d_valid),
    .rready_i      (tl_h_i.d_ready),
    .rdata_o       ({tl_h_o.d_opcode,
                     tl_h_o.d_param ,
                     tl_h_o.d_size  ,
                     tl_h_o.d_source,
                     tl_h_o.d_sink  ,
                     tl_h_o.d_data  ,
                     tl_h_o.d_error ,
                     spare_rsp_o})  ,
    .full_o        ());

`line 88 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 0
endmodule

`line 90 "../src/merl_azadi-II_azadi_common_1.0/rtl/tlul_fifo_sync.sv" 2
